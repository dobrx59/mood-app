<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>KOACH v2.0</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="splash-screen-koach">
    <img src="https://raw.githubusercontent.com/microsoft/fluentui-emoji/main/assets/Koala/3D/koala_3d.png" class="splash-logo-img" alt="Logo KOACH">
    <div class="splash-title">KOACH</div>
    <div class="carte-accueil"></div>
</div>

<div id="app">
    <section id="section-koach" class="tab-content">
        <div id="ecran-choix" class="ecran-accueil fondue">
            <button class="bouton-principal vert" onclick="choisirHumeur('content')">
                <div class="koala-wrapper bounce">
                    <img src="https://raw.githubusercontent.com/microsoft/fluentui-emoji/main/assets/Koala/3D/koala_3d.png" class="koala-img" alt="Koala Content">
                    <span class="emoji-overlay">‚ú®</span>
                </div>
                <span class="label-humeur">Trop bien !</span>
            </button>
            <button class="bouton-principal rouge" onclick="choisirHumeur('pas-content')">
                <div class="koala-wrapper sway">
                    <img src="https://raw.githubusercontent.com/microsoft/fluentui-emoji/main/assets/Koala/3D/koala_3d.png" class="koala-img koala-triste" alt="Koala Triste">
                    <span class="emoji-overlay triste">üíß</span>
                </div>
                <span class="label-humeur">C'est dur...</span>
            </button>
        </div>

        <div id="ecran-raisons" class="ecran-accueil cache">
            <div class="fleche-retour" id="btn-retour-choix">‚Üê</div>
            <h2 id="titre-reason" style="margin-top: 60px; text-align: center; width: 100%;">Pourquoi ?</h2>
            <div id="container-raisons" class="liste-raisons" style="margin: 0 auto;"></div>
            <div class="zone-ajout" style="display:flex; width:90%; margin: 10px auto; background:var(--card-bg); border-radius:15px; padding:5px; border: 1px solid var(--border);">
                <input type="text" id="input-nouvelle-cause" placeholder="Ajouter une raison..." style="flex:1; border:none; padding:10px; outline:none; background:transparent; color:inherit;">
                <button id="btn-ajouter-cause" style="background:var(--vert); border:none; border-radius:10px; width:40px; color:#1c1c1e;">+</button>
            </div>
        </div>

        <div id="ecran-confirmation" class="ecran-accueil cache">
            <div class="actions-finales" style="margin-top: 40px; display:flex; gap:10px; justify-content:center;">
                <button id="btn-tab-grille" class="bouton-onglet">Mon Mois</button>
                <button id="btn-tab-stats" class="bouton-onglet">Analyse</button>
            </div>
            <h2 id="nom-du-mois" style="text-align: center; width:100%;">---</h2>
            <div id="grille-pixels" class="grille fondue"></div>
            
            <div id="section-stats" class="stats-container cache fondue">
                <div class="stat-card">
                    <span class="stat-label">S√©rie actuelle üî•</span>
                    <span id="streak-count" class="stat-valeur">--</span>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Bonheur Global üê®</span>
                    <span id="score-bonheur" class="stat-valeur">--</span>
                    <div class="repartition-bar">
                        <div id="bar-vert" style="height:100%; background:var(--vert);"></div>
                        <div id="bar-rouge" style="height:100%; background:var(--rouge);"></div>
                    </div>
                </div>
                <div class="stat-card">
                    <span class="stat-label">Majorit√© du mois üèÜ</span>
                    <span id="cause-majeure" class="stat-valeur">--</span>
                    <span id="cause-sub" class="stat-sub">Aucune donn√©e</span>
                </div>
                <div id="real-reset-btn" class="btn-reset">R√©initialiser le mois</div>
            </div>
        </div>
    </section>

    <section id="section-goals" class="tab-content cache" style="padding: 25px 20px;">
        <h1 style="text-align: left; width: 100%; margin-bottom: 20px;">Missions üéØ</h1>
        <div class="goal-group">
            <h3 class="group-title">MA JOURN√âE</h3>
            <div id="liste-goals-du-jour"></div>
            <div class="input-modern">
                <input type="text" id="input-daily-goal" placeholder="Nouvelle mission aujourd'hui...">
                <button onclick="ajouterObjectif('daily')">+</button>
            </div>
        </div>
        <div class="goal-group">
            <h3 class="group-title">PROJETS √Ä LONG TERME</h3>
            <div id="liste-goals-long"></div>
            <div class="input-modern-stack" style="flex-direction: column; align-items: stretch;">
                <input type="text" id="input-long-goal" placeholder="Nom du projet...">
                <div style="display: flex; gap: 8px; margin-top: 8px;">
                    <input type="date" id="input-long-date" style="flex: 1; background: rgba(128,128,128,0.1); border-radius: 8px; border:none; padding:5px; color:inherit;">
                    <button onclick="ajouterObjectif('long')" style="width: 50px;">+</button>
                </div>
            </div>
        </div>
    </section>

    <section id="section-settings" class="tab-content cache" style="padding: 25px 20px;">
        <h1 style="text-align: left; width: 100%;">R√©glages ‚öôÔ∏è</h1>
        <div class="setting-row">
            <span>Mode Sombre üåô</span>
            <label class="switch">
                <input type="checkbox" id="dark-mode-toggle">
                <span class="slider"></span>
            </label>
        </div>
        <div class="setting-row">
            <span>Rappels quotidiens üîî</span>
            <button id="btn-notif-enable" style="background: var(--vert); border: none; border-radius: 10px; padding: 8px 15px; font-weight: bold; cursor: pointer;">Activer</button>
        </div>
    </section>

    <nav class="tab-bar">
        <div class="tab-item active" onclick="switchMainTab('koach', this)">
            <span class="tab-icon">üê®</span>
            <span>KOACH</span>
        </div>
        <div class="tab-item" onclick="switchMainTab('goals', this)">
            <span class="tab-icon">üéØ</span>
            <span>MISSIONS</span>
        </div>
        <div class="tab-item" onclick="switchMainTab('settings', this)">
            <span class="tab-icon">‚öôÔ∏è</span>
            <span>R√âGLAGES</span>
        </div>
    </nav>
</div>

<div id="modal-note" class="modal cache">
    <div class="modal-content">
        <h3>Une petite note ?</h3>
        <textarea id="input-note" placeholder="D√©taille un peu ta journ√©e..."></textarea>
        <button id="btn-valider-note" class="btn-primary">Valider</button>
    </div>
</div>

<div id="modal-detail" class="modal cache">
    <div class="modal-content">
        <div id="modal-emoji" style="font-size:40px; margin-bottom:10px;"></div>
        <h3 id="modal-date"></h3>
        <p id="modal-raison"></p>
        <button id="modal-close-btn" class="btn-primary" style="background:#8e8e93; color:white; margin-bottom:10px;">Fermer</button>
        <button id="btn-modifier-jour" style="background:none; border:none; text-decoration:underline; font-size:12px; color:#8e8e93; cursor:pointer;">Modifier cette journ√©e</button>
    </div>
</div>

<script type="module" src="script.js"></script>
</body>
</html>
